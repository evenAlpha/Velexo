import{w as d}from"./with-props-BmnBrIYl.js";import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{c as m}from"./client-BMejrtNq.js";import{B as p}from"./button-CN2Ei1bR.js";import{C as x,b as u,c as h,d as f,a as j}from"./card-aNYpyC57.js";import{I as n}from"./input-BtX7ZIBT.js";import{L as l}from"./label-D1DPPQ8C.js";import{q as g,y as w,A as c}from"./chunk-KNED5TY2-DK4LrZ4V.js";import"./utils-DjqsqOe8.js";import"./index-D1l7H5IR.js";import"./index-DezlXQ_q.js";async function I({request:i}){"use server";const s=m(),r=await i.formData(),t=r.get("email"),a=r.get("password"),{error:o}=await s.auth.signInWithPassword({email:t,password:a});return o?{error:o instanceof Error?o.message:"An error occurred"}:g("/protected")}const P=d(function(){var a;const s=w(),r=(a=s.data)==null?void 0:a.error,t=s.state==="submitting";return e.jsx("div",{className:"flex min-h-svh w-full items-center justify-center p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-sm",children:e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs(x,{children:[e.jsxs(u,{children:[e.jsx(h,{className:"text-2xl",children:"Login"}),e.jsx(f,{children:"Enter your email below to login to your account"})]}),e.jsx(j,{children:e.jsxs(s.Form,{method:"post",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(n,{id:"email",name:"email",type:"email",placeholder:"m@example.com",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(c,{to:"/forgot-password",className:"ml-auto inline-block text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),e.jsx(n,{id:"password",type:"password",name:"password",required:!0})]}),r&&e.jsx("p",{className:"text-sm text-red-500",children:r}),e.jsx(p,{type:"submit",className:"w-full",disabled:t,children:t?"Logging in...":"Login"})]}),e.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",e.jsx(c,{to:"/sign-up",className:"underline underline-offset-4",children:"Sign up"})]})]})})]})})})})});export{I as clientAction,P as default};
