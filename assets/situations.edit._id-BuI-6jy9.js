import{w as S}from"./with-props-BQZFb7-w.js";import{j as g}from"./jsx-runtime-BjG_zV1W.js";import{o as E,p as w,r as s}from"./chunk-KNED5TY2-DvhD41lM.js";import{c as r}from"./client-B0M0j1kj.js";import{S as x}from"./SituationForm-CDn8k9Mf.js";import"./card-3ARTUL8o.js";import"./utils-DjqsqOe8.js";import"./input-CYFwwULt.js";import"./button-D9Y7BBUR.js";import"./types-CHFWEMIi.js";import"./index-xxwHCPOv.js";import"./index-DQUGhA2v.js";const T=S(function(){const{id:e}=E(),u=w(),[o,n]=s.useState(null),[m,c]=s.useState([]),[p,f]=s.useState(!0);s.useEffect(()=>{async function a(){const t=r(),{data:i}=await t.from("situation").select("*").eq("id",e).single(),{data:h}=await t.from("themes").select("*");n(i??null),c(h??[]),f(!1)}e&&a()},[e]);const d=(a,t)=>{n(i=>i&&{...i,[a]:t})},l=async()=>{if(!o)return;const a=r(),{error:t}=await a.from("situation").update(o).eq("id",o.id);t?alert("Error updating situation"):u("/situations")};return g.jsx(x,{title:"Edit Situation",situation:o,themes:m,onChange:d,onSave:l,loading:p})});export{T as default};
