import{w as i}from"./with-props-BmnBrIYl.js";import{j as r}from"./jsx-runtime-BjG_zV1W.js";import{c as d}from"./client-DlwxUW1z.js";import{B as n}from"./button-CN2Ei1bR.js";import{C as c,b as l,c as m,d as p,a as x}from"./card-aNYpyC57.js";import{I as f}from"./input-BtX7ZIBT.js";import{L as u}from"./label-D1DPPQ8C.js";import{q as w,y as h}from"./chunk-KNED5TY2-DK4LrZ4V.js";import"./utils-DjqsqOe8.js";import"./index-D1l7H5IR.js";import"./index-DezlXQ_q.js";const A=async({request:o})=>{const e=d(),a=(await o.formData()).get("password");if(!a)return{error:"Password is required"};const{error:s}=await e.auth.updateUser({password:a});return s?{error:s instanceof Error?s.message:"An error occurred"}:w("/protected")},B=i(function(){var s;const e=h(),t=(s=e.data)==null?void 0:s.error,a=e.state==="submitting";return r.jsx("div",{className:"flex min-h-svh w-full items-center justify-center p-6 md:p-10",children:r.jsx("div",{className:"w-full max-w-sm",children:r.jsx("div",{className:"flex flex-col gap-6",children:r.jsxs(c,{children:[r.jsxs(l,{children:[r.jsx(m,{className:"text-2xl",children:"Reset Your Password"}),r.jsx(p,{children:"Please enter your new password below."})]}),r.jsx(x,{children:r.jsx(e.Form,{method:"post",children:r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(u,{htmlFor:"password",children:"New password"}),r.jsx(f,{id:"password",name:"password",type:"password",placeholder:"New password",required:!0})]}),t&&r.jsx("p",{className:"text-sm text-red-500",children:t}),r.jsx(n,{type:"submit",className:"w-full",disabled:a,children:a?"Saving...":"Save new password"})]})})})]})})})})});export{A as clientAction,B as default};
