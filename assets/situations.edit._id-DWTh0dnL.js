import{w as S}from"./with-props-bezBRlDp.js";import{j as g}from"./jsx-runtime-BjG_zV1W.js";import{o as E,p as w,r as s}from"./chunk-KNED5TY2-DK4LrZ4V.js";import{c as r}from"./client-DlwxUW1z.js";import{S as x}from"./SituationForm-DE9Id-oh.js";import"./card-aNYpyC57.js";import"./utils-DjqsqOe8.js";import"./input-BtX7ZIBT.js";import"./button-CN2Ei1bR.js";import"./types-CDElO9BJ.js";import"./index-DezlXQ_q.js";import"./index-D1l7H5IR.js";const T=S(function(){const{id:e}=E(),u=w(),[o,n]=s.useState(null),[m,c]=s.useState([]),[p,f]=s.useState(!0);s.useEffect(()=>{async function a(){const t=r(),{data:i}=await t.from("situation").select("*").eq("id",e).single(),{data:h}=await t.from("themes").select("*");n(i??null),c(h??[]),f(!1)}e&&a()},[e]);const d=(a,t)=>{n(i=>i&&{...i,[a]:t})},l=async()=>{if(!o)return;const a=r(),{error:t}=await a.from("situation").update(o).eq("id",o.id);t?alert("Error updating situation"):u("/situations")};return g.jsx(x,{title:"Edit Situation",situation:o,themes:m,onChange:d,onSave:l,loading:p})});export{T as default};
